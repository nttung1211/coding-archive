<div class="container">
  <div class="row">
    <form class="mx-auto mt-5"
      (ngSubmit)="onSubmit()"
      [formGroup]="signUpForm"
    >

      <div class="formGroup" formGroupName="userData">
        <div class="form-group">
          <label for="username">username</label>
          <input class="form-control" type="text" name="username" id="username" autocomplete="off"
            formControlName="username"
          >
          <div *ngIf="signUpForm.get('userData.username').invalid && signUpForm.get('userData.username').touched">
            <small class="err-msg" *ngIf="signUpForm.get('userData.username').errors.required ">
              Please enter username.
            </small>
            <small class="err-msg" *ngIf="signUpForm.get('userData.username').errors.isForbidden">
              This username is not valid.
            </small>
          </div>
        </div>
  
        <div class="form-group">
          <label for="email">email</label>
          <input class="form-control" type="text" name="email" id="email" autocomplete="off"
            formControlName="email"
          >
          <small class="err-msg" *ngIf="signUpForm.get('userData.email').invalid && signUpForm.get('userData.email').touched">
            Invalid email.
          </small>
        </div>
      </div>

      <div class="form-group">
        <div class="form-check">
          <input class="form-check-input" type="radio" name="gender" id="male" value="male"
            formControlName="gender"
          >
          <label class="form-check-label" for="male">male</label>
        </div>
        
        <div class="form-check">
          <input class="form-check-input" type="radio" name="gender" id="female" value="female"
            formControlName="gender"
          >
          <label class="form-check-label" for="female">female</label>
        </div>
      </div>

      <div class="form-group formGroup" formArrayName="hobbies">
        <h5>Your hobbies:</h5>
        <button class="btn btn-success mt-2 mb-3" type="button"
          (click)="onAddHobby()"
        >
          Add
        </button>
        <div class="form-group" *ngFor="let control of signUpForm.get('hobbies')['controls']; let i = index">
          <input type="text" class="form-control"
            [formControlName]="i"
          >
        </div>
      </div>
      <!-- since bobbies is an array its children are determine by specifing their index. Here we register them to that many inputs -->

      <button class="btn btn-primary">Submit</button>

    </form>
  </div>
</div>